<!DOCTYPE html>
<!-- home.html
last one-->
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/static/img/altmeIcon.png">
    <title>Talao</title>
    <link rel="stylesheet" href="/static/home.css">
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
</head>

<body>

    {% include 'header.html' %}



    <div id="mainBox" style="max-width: 900px; margin: auto; padding: 30px; font-family: 'Roboto', sans-serif;">
        <div id="titles">
            <p id="title">Testing tools for OIDC4VC issuers and verifiers</p>
        </div>
        <div id="box2">
            
                <center><br>
                        <div id="divCompliant"><img id="arrowDown" src="/static/img/arrow-down.png">
                            <p id="compliant">Report</p>
                        </div>

                    <md-block style="text-align: left; max-width: 1000px; margin: auto; font-size: 16px; background-color: #f9f9f9; padding: 20px; border-radius: 8px; border: 1px solid #ddd;" style="text-align: left; max-width: 1000px; margin: auto; font-size: 16px;">
                            {{ report | safe }}
                        </md-block>

                        <textarea id="myTextArea" rows="10" cols="150" style="display:none;">{{ report }}</textarea>
                        <br><br>
                    <button value='download' style="padding: 12px 30px; font-size: 16px; background-color: #0057FF; color: white; border: none; border-radius: 6px; cursor: pointer;" type='button' onclick='doDL(document.getElementById("myTextArea").value)'><h3>Download</h3></button>
                    <a href="{{back}}"><button style="padding: 12px 30px; font-size: 16px; background-color: #0057FF; color: white; border: none; border-radius: 6px; cursor: pointer;" ><h3>Back</h3></button></a>

                </center>
            
        </div>
    </div>


    {% include 'footer.html' %}

    
    <script type="text/javascript">
        function doDL(content) {
            // Créer un blob de type texte
            const blob = new Blob([content], { type: 'text/plain' });
    
            // Créer un lien temporaire
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'issuer_report.txt';
            document.body.appendChild(link);
            link.click();
    
            // Nettoyer après téléchargement
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href);
        }
    </script>

    
</body>

</html>