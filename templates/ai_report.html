<!DOCTYPE html>
<!-- home.html
last one-->
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/static/img/altmeIcon.png">
    <title>Talao</title>
    <link rel="stylesheet" href="/static/home.css">
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
</head>

<body>

    {% include 'header.html' %}



    <div id="mainBox">
        <div id="titles">
            <p id="title">Testing tools for OIDC4VC issuers and verifier</p>
        </div>
        <div id="box2">
            
                <center><br>
                        <div id="divCompliant"><img id="arrowDown" src="/static/img/arrow-down.png">
                            <p id="compliant">Report</p>
                        </div>

                    <textarea id="myTextArea" type="text" rows="40" cols="150">{{report}}</textarea> 
                        <br><br>
                    <button value='download' type='button' onclick='doDL(document.getElementById("myTextArea").value)'>Download</button>
                </center>
            
        </div>
    </div>


    {% include 'footer.html' %}

    
    <script type="text/javascript">
        function doDL(content) {
            // Créer un blob de type texte
            const blob = new Blob([content], { type: 'text/plain' });
    
            // Créer un lien temporaire
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'issuer_report.txt';
            document.body.appendChild(link);
            link.click();
    
            // Nettoyer après téléchargement
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href);
        }
    </script>

    
</body>

</html>